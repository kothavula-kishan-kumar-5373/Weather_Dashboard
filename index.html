<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Weather Dashboard</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea, #764ba2);
    min-height: 100vh;
    padding: 20px;
    color: #333;
}

.container {
    max-width: 1200px;
    margin: auto;
}

.header {
    text-align: center;
    color: white;
    margin-bottom: 30px;
}

.header h1 {
    font-size: 2.5em;
}

.search-box {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 30px;
}

.search-box input {
    padding: 12px 20px;
    width: 300px;
    border-radius: 25px;
    border: none;
    outline: none;
}

.search-box button {
    padding: 12px 30px;
    border-radius: 25px;
    border: none;
    background: #4CAF50;
    color: white;
    cursor: pointer;
}

.search-box button:hover {
    background: #45a049;
}

.current-weather,
.forecast-section {
    background: rgba(255,255,255,0.95);
    border-radius: 20px;
    padding: 30px;
    margin-bottom: 30px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.current-weather-header {
    display: flex;
    justify-content: space-between;
}

.location {
    font-size: 1.8em;
    font-weight: bold;
}

.current-main {
    display: flex;
    align-items: center;
    gap: 30px;
    margin: 20px 0;
}

.weather-icon {
    font-size: 6em;
}

.temperature {
    font-size: 4em;
    color: #667eea;
}

.description {
    font-size: 1.4em;
    color: #666;
}

.weather-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
}

.detail-item {
    background: #f5f5f5;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
}

.detail-item .value {
    font-size: 1.4em;
    font-weight: bold;
}

.hourly-forecast {
    display: flex;
    gap: 15px;
    overflow-x: auto;
}

.hourly-item {
    min-width: 100px;
    background: #f5f5f5;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
}

.daily-forecast {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 15px;
}

.daily-item {
    background: #f5f5f5;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
}

.loading {
    text-align: center;
    color: white;
    font-size: 1.5em;
}

.error {
    background: #f44336;
    color: white;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    margin-bottom: 20px;
}
</style>
</head>

<body>

<div class="container">
    <div class="header">
        <h1>üå§Ô∏è Weather Dashboard</h1>
        <p>Your real-time weather companion</p>
    </div>

    <div class="search-box">
        <input id="cityInput" value="Hyderabad" placeholder="Enter city name">
        <button onclick="searchWeather()">Search</button>
    </div>

    <div id="errorMsg" class="error" style="display:none"></div>
    <div id="loading" class="loading" style="display:none">Loading weather data...</div>

    <div id="weatherContent" style="display:none">

        <div class="current-weather">
            <div class="current-weather-header">
                <div>
                    <div class="location" id="location"></div>
                    <div id="date"></div>
                </div>
            </div>

            <div class="current-main">
                <div class="weather-icon" id="currentIcon"></div>
                <div>
                    <div class="temperature" id="temperature"></div>
                    <div class="description" id="description"></div>
                </div>
            </div>

            <div class="weather-details">
                <div class="detail-item"><div>Feels Like</div><div class="value" id="feelsLike"></div></div>
                <div class="detail-item"><div>Humidity</div><div class="value" id="humidity"></div></div>
                <div class="detail-item"><div>Wind</div><div class="value" id="windSpeed"></div></div>
                <div class="detail-item"><div>Pressure</div><div class="value" id="pressure"></div></div>
            </div>
        </div>

        <div class="forecast-section">
            <h2>Hourly Forecast</h2>
            <div class="hourly-forecast" id="hourlyForecast"></div>
        </div>

        <div class="forecast-section">
            <h2>7-Day Forecast</h2>
            <div class="daily-forecast" id="dailyForecast"></div>
        </div>

    </div>
</div>

<script>
const icons = {
    0:'‚òÄÔ∏è',1:'üå§Ô∏è',2:'‚õÖ',3:'‚òÅÔ∏è',45:'üå´Ô∏è',48:'üå´Ô∏è',
    51:'üå¶Ô∏è',53:'üå¶Ô∏è',55:'üåßÔ∏è',61:'üåßÔ∏è',63:'üåßÔ∏è',65:'üåßÔ∏è',
    71:'üå®Ô∏è',73:'üå®Ô∏è',75:'üå®Ô∏è',95:'‚õàÔ∏è'
};

const desc = {
    0:'Clear sky',1:'Mainly clear',2:'Partly cloudy',3:'Overcast',
    45:'Foggy',51:'Drizzle',61:'Rain',71:'Snow',95:'Thunderstorm'
};

function icon(code){ return icons[code] || 'üå§Ô∏è'; }
function text(code){ return desc[code] || 'Weather'; }

async function getCoordinates(city){
    const res = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${city}&count=1`);
    const data = await res.json();
    if(!data.results) throw new Error("City not found");
    return data.results[0];
}

async function getWeather(lat, lon){
    const res = await fetch(
        `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m,pressure_msl&hourly=temperature_2m,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto`
    );
    return await res.json();
}

function searchWeather(){
    const city = cityInput.value.trim();
    if(!city) return;

    loading.style.display="block";
    weatherContent.style.display="none";
    errorMsg.style.display="none";

    getCoordinates(city)
    .then(loc=>getWeather(loc.latitude,loc.longitude).then(w=>({loc,w})))
    .then(({loc,w})=>{
        location.textContent = `${loc.name}, ${loc.country}`;
        date.textContent = new Date().toDateString();

        currentIcon.textContent = icon(w.current.weather_code);
        temperature.textContent = `${Math.round(w.current.temperature_2m)}¬∞C`;
        description.textContent = text(w.current.weather_code);
        feelsLike.textContent = `${Math.round(w.current.apparent_temperature)}¬∞C`;
        humidity.textContent = `${w.current.relative_humidity_2m}%`;
        windSpeed.textContent = `${Math.round(w.current.wind_speed_10m * 3.6)} km/h`;
        pressure.textContent = `${w.current.pressure_msl} hPa`;

        hourlyForecast.innerHTML="";
        for(let i=0;i<24;i++){
            hourlyForecast.innerHTML+=`
            <div class="hourly-item">
                <div>${new Date(w.hourly.time[i]).getHours()}:00</div>
                <div>${icon(w.hourly.weather_code[i])}</div>
                <div>${Math.round(w.hourly.temperature_2m[i])}¬∞C</div>
            </div>`;
        }

        dailyForecast.innerHTML="";
        for(let i=0;i<7;i++){
            dailyForecast.innerHTML+=`
            <div class="daily-item">
                <div>${i===0?'Today':new Date(w.daily.time[i]).toLocaleDateString('en',{weekday:'short'})}</div>
                <div>${icon(w.daily.weather_code[i])}</div>
                <div>${Math.round(w.daily.temperature_2m_max[i])}¬∞ / ${Math.round(w.daily.temperature_2m_min[i])}¬∞</div>
            </div>`;
        }

        loading.style.display="none";
        weatherContent.style.display="block";
    })
    .catch(err=>{
        loading.style.display="none";
        errorMsg.style.display="block";
        errorMsg.textContent = err.message;
    });
}

cityInput.addEventListener("keypress",e=>e.key==="Enter"&&searchWeather());
searchWeather();
</script>

</body>
</html>